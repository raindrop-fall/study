(function(j,p,h){var o=p.createElement("div");var q=["webkit","moz","o","ms"];var s={};var m=b.support={};var u=false;var d=5;var i=55;m.transform3d=v(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]);m.transform=v(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"]);m.transition=v(["transitionProperty","WebkitTransitionProperty","MozTransitionProperty","OTransitionProperty","msTransitionProperty"]);m.addEventListener="addEventListener" in j;m.mspointer=j.navigator.msPointerEnabled;m.cssAnimation=(m.transform3d||m.transform)&&m.transition;var k=["touch","mouse"];var a={start:{touch:"touchstart",mouse:"mousedown"},move:{touch:"touchmove",mouse:"mousemove"},end:{touch:"touchend",mouse:"mouseup"}};if(m.addEventListener){p.addEventListener("gesturestart",function(){u=true});p.addEventListener("gestureend",function(){u=false})}function b(w,x){return(this instanceof b)?this.init(w,x):new b(w,x)}b.prototype.init=function(x,y){var w=this;w.element=x;if(typeof x==="string"){w.element=p.querySelector(x)}if(!w.element){throw new Error("element not found")}if(m.mspointer){w.element.style.msTouchAction="pan-y"}y=y||{};w.distance=y.distance;w.maxPoint=y.maxPoint;w.disableTouch=(y.disableTouch===h)?false:y.disableTouch;w.disable3d=(y.disable3d===h)?false:y.disable3d;w.transitionDuration=(y.transitionDuration===h)?"350ms":y.transitionDuration+"ms";w.vertical=(y.vertical===h)?false:y.vertical;w.currentPoint=0;w.currentPos=0;w.animation=false;w.use3d=m.transform3d;if(w.disable3d===true){w.use3d=false}if(m.cssAnimation){w._setStyle({transitionProperty:t("transform"),transitionTimingFunction:"cubic-bezier(0,0,0.25,1)",transitionDuration:"0ms",transform:w.vertical?w._getTranslateY(0):w._getTranslate(0)})}else{if(w.vertical){w._setStyle({top:"0px"})}else{w._setStyle({left:"0px"})}}w.refresh();k.forEach(function(z){w.element.addEventListener(a.start[z],w,false)});return w};b.prototype.handleEvent=function(x){var w=this;switch(x.type){case a.start.touch:w._touchStart(x,"touch");break;case a.start.mouse:w._touchStart(x,"mouse");break;case a.move.touch:w._touchMove(x,"touch");break;case a.move.mouse:w._touchMove(x,"mouse");break;case a.end.touch:w._touchEnd(x,"touch");break;case a.end.mouse:w._touchEnd(x,"mouse");break;case"click":w._click(x);break}};b.prototype.refresh=function(y){var x=this;x._maxPoint=(x.maxPoint===h)?(function(){var D=x.element.childNodes,B=-1,A=0,z=D.length,C;for(;A<z;A++){C=D[A];if(C.nodeType===1){B++}}return B})():x.maxPoint;if(x.distance===h){if(x._maxPoint<0){x._distance=0}else{if(x.vertical){x._distance=x.element.scrollHeight/(x._maxPoint+1)}else{x._distance=x.element.scrollWidth/(x._maxPoint+1)}}}else{x._distance=x.distance}x._maxPos=-x._distance*x._maxPoint;var w=y===h?true:false;if(w){x.moveToPoint()}else{x.moveToPoint(h,0)}};b.prototype.hasNext=function(){var w=this;return w.currentPoint<w._maxPoint};b.prototype.hasPrev=function(){var w=this;return w.currentPoint>0};b.prototype.toNext=function(w){var x=this;if(!x.hasNext()){return}x.moveToPoint(x.currentPoint+1,w)};b.prototype.toPrev=function(w){var x=this;if(!x.hasPrev()){return}x.moveToPoint(x.currentPoint-1,w)};b.prototype.moveToPoint=function(x,w,z){var y=this;w=w===h?y.transitionDuration:w+"ms";var A=y.currentPoint;if(x===h){x=y.currentPoint}if(x<0){y.currentPoint=0}else{if(x>y._maxPoint){y.currentPoint=y._maxPoint}else{y.currentPoint=parseInt(x,10)}}if(m.cssAnimation){y._setStyle({transitionDuration:w})}else{y.animation=true}y._setPos(-y.currentPoint*y._distance,w);if(A!==y.currentPoint){y._triggerEvent("fsmoveend",true,false,z);y._triggerEvent("fspointmove",true,false,z)}};b.prototype._setPos=function(y,w){var x=this;x.currentPos=y;if(m.cssAnimation){x.element.style[s.transform]=x.vertical?x._getTranslateY(y):x._getTranslate(y)}else{if(x.animation){x._animatePos(y,w||x.transitionDuration)}else{if(x.vertical){x.element.style.top=y+"px"}else{x.element.style.left=y+"px"}}}};b.prototype._touchStart=function(z,y){var w=this;if(w.disableTouch||w.scrolling||u){return}w.element.addEventListener(a.move[y],w,false);p.addEventListener(a.end[y],w,false);var x=z.target.tagName;if(y==="mouse"&&x!=="SELECT"&&x!=="INPUT"&&x!=="TEXTAREA"&&x!=="BUTTON"){z.preventDefault()}if(m.cssAnimation){w._setStyle({transitionDuration:"0ms"})}else{w.animation=false}w.scrolling=true;w.moveReady=false;w.startPageX=r(z,"pageX");w.startPageY=r(z,"pageY");w.startPage=w.vertical?w.startPageY:w.startPageX;w.basePage=w.startPage;w.directionPos=0;w.startTime=z.timeStamp;w._triggerEvent("fstouchstart",true,false)};b.prototype._touchMove=function(w,C){var G=this;if(!G.scrolling||u){return}var A=r(w,"pageX");var z=r(w,"pageY");var F=G.vertical?z:A;var E;var D;if(G.moveReady){w.preventDefault();E=F-G.basePage;D=G.currentPos+E;if(D>=0||D<G._maxPos){D=Math.round(G.currentPos+E/3)}G.directionPos=E===0?G.directionPos:E>0?-1:1;var x=!G._triggerEvent("fstouchmove",true,true,{delta:E,direction:G.directionPos});if(x){G._touchAfter({moved:false,originalPoint:G.currentPoint,newPoint:G.currentPoint,cancelled:true})}else{G._setPos(D)}}else{var B=l(G.startPageX,G.startPageY,A,z);if(B.z>d){var y=G.vertical?e(B):f(B);if(y>i){w.preventDefault();G.moveReady=true;G.element.addEventListener("click",G,true)}else{G.scrolling=false}}}G.basePage=F};b.prototype._touchEnd=function(z,y){var x=this;x.element.removeEventListener(a.move[y],x,false);p.removeEventListener(a.end[y],x,false);if(!x.scrolling){return}var w=-x.currentPos/x._distance;w=(x.directionPos>0)?Math.ceil(w):(x.directionPos<0)?Math.floor(w):Math.round(w);if(w<0){w=0}else{if(w>x._maxPoint){w=x._maxPoint}}x._touchAfter({moved:w!==x.currentPoint,originalPoint:x.currentPoint,newPoint:w,cancelled:false});x.moveToPoint(w)};b.prototype._click=function(x){var w=this;x.stopPropagation();x.preventDefault()};b.prototype._touchAfter=function(x){var w=this;w.scrolling=false;w.moveReady=false;setTimeout(function(){w.element.removeEventListener("click",w,true)},200);w._triggerEvent("fstouchend",true,false,x)};b.prototype._setStyle=function(y){var w=this;var x=w.element.style;for(var z in y){g(x,z,y[z])}};b.prototype._animatePos=function(D,B){var G=this;var z=G.vertical;var y=G.element;var x=+new Date();var E=parseInt(z?y.style.top:y.style.left,10);var F=D;var A=parseInt(B,10);if(A==0){if(z){y.style.top=D+"px"}else{y.style.left=D+"px"}return}var C=function(I,H){return -(I/=H)*(I-2)};var w=setInterval(function(){var I=new Date()-x;var J,H;if(I>A){clearInterval(w);H=F}else{J=C(I,A);H=J*(F-E)+E}if(z){y.style.top=H+"px"}else{y.style.left=H+"px"}},2)};b.prototype.destroy=function(){var w=this;k.forEach(function(x){w.element.removeEventListener(a.start[x],w,false)})};b.prototype._getTranslate=function(w){var y=this;return y.use3d?"translate3d("+w+"px, 0, 0)":"translate("+w+"px, 0)"};b.prototype._getTranslateY=function(x){var w=this;return w.use3d?"translate3d(0, "+x+"px, 0)":"translate(0, "+x+"px)"};b.prototype._triggerEvent=function(z,x,w,B){var y=this;var A=p.createEvent("Event");A.initEvent(z,x,w);if(B){for(var C in B){if(B.hasOwnProperty(C)){A[C]=B[C]}}}return y.element.dispatchEvent(A)};function r(w,x){return w.changedTouches?w.changedTouches[0][x]:w[x]}function v(w){return n(w,function(x){return o.style[x]!==h})}function g(x,z,y){var w=s[z];if(w){x[w]=y}else{if(x[z]!==h){s[z]=z;x[z]=y}else{n(q,function(A){var B=c(A)+c(z);if(x[B]!==h){s[z]=B;x[B]=y;return true}})}}}function t(x){if(o.style[x]!==h){return x}else{var w;n(q,function(y){var z=c(y)+c(x);if(o.style[z]!==h){w="-"+y+"-"+x;return true}});return w}}function c(w){return w.charAt(0).toUpperCase()+w.substr(1)}function n(y,z){for(var x=0,w=y.length;x<w;x++){if(z(y[x],x)){return true}}return false}function l(B,D,A,C){var w=Math.abs(B-A);var F=Math.abs(D-C);var E=Math.sqrt(Math.pow(w,2)+Math.pow(F,2));return{x:w,y:F,z:E}}function e(y){var x=y.x/y.z;var w=Math.acos(x);return 180/(Math.PI/w)}function f(y){var x=y.y/y.z;var w=Math.acos(x);return 180/(Math.PI/w)}if(typeof exports=="object"){module.exports=b}else{if(typeof define=="function"&&define.amd){define(function(){return b})}else{j.Flipsnap=b}}})(window,window.document);




